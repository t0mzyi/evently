<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Evently â€” Discover & Experience</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="/assets/css/styles.css">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            theme: {
              primary: '#1C2A3A',
              highlight: '#2C3E50',
              secondary: '#1C2A3A',
              accent: '#5C7C8A',
              dark: '#1C2A3A',
              surface: '#F9F7F5',
            },
            apple: {
              bg: '#EAE0CF',
              card: 'rgba(255, 255, 255, 0.6)',
              text: '#1C2A3A',
              secondary: '#5C7C8A',
              accent: '#1C2A3A'
            }
          },
          fontFamily: {
            heading: ['Playfair Display', 'serif'],
          }
        }
      }
    }
  </script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <style>
    .category-thumb {
      font-size: 24px;
      line-height: 1;
      display: inline-block;
      width: 24px;
      height: 24px;
      text-align: center;
    }

    .swiper {
      width: 100%;
      padding-top: 5px;
      padding-bottom: 50px;
    }

    .swiper-slide {
      background-position: center;
      background-size: cover;
      width: 600px;
      height: 400px;
      overflow: hidden;
      will-change: transform;
      transform: translateZ(0);
    }

    @media (max-width: 768px) {
      .swiper-slide {
        width: 300px;
        height: 350px;
      }
    }

    .marquee-container {
      overflow: hidden;
      white-space: nowrap;
      position: relative;
      height: 80px;
    }

    .marquee-content,
    .marquee-content-reverse {
      display: inline-block;
      animation: marquee 25s linear infinite;
      padding-left: 20px;
    }

    .marquee-content-reverse {
      animation-direction: reverse;
    }

    @keyframes marquee {
      0% {
        transform: translateX(0);
      }

      100% {
        transform: translateX(-50%);
      }
    }

    .category-pill {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      background: rgba(255, 255, 255, 0.9);
      padding: 12px 28px;
      border-radius: 9999px;
      margin: 0 16px;
      text-decoration: none;
      color: #1C2A3A;
      font-weight: 500;
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      border: 1px solid rgba(28, 42, 58, 0.08);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.03);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    .category-pill:hover {
      background: #ffffff;
      transform: translateY(-2px) scale(1.02);
      box-shadow: 0 10px 30px rgba(28, 42, 58, 0.08);
      border-color: rgba(28, 42, 58, 0.15);
    }

    /* Hide scrollbar for marquee */
    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500&display=swap" rel="stylesheet">
</head>

<body class="bg-apple-bg text-apple-text">

  <!-- Navigation -->
  <%- include('partials/navbar') %>
  <%- include('partials/doodles') %>

  <!-- Hero Section -->
  <header class="relative pt-32 pb-12 px-6 text-center overflow-hidden">
    <div class="max-w-5xl mx-auto relative z-10">
      <h1 class="text-5xl md:text-7xl font-heading font-medium tracking-tight mb-10 text-[#1C2A3A] leading-[1.15]">
        Discover events happening <br /> around you
      </h1>

      <!-- Search Bar -->
      <div class="relative max-w-2xl mx-auto mb-10 group">
        <div class="absolute inset-0 bg-blue-500/5 blur-2xl rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-700">
        </div>
        <input type="text" placeholder="Search events, categories, or artists..." class="w-full h-16 pl-14 pr-6 bg-white/60 backdrop-blur-xl border border-white/40 rounded-full text-lg text-[#1C2A3A] placeholder:text-[#1C2A3A]/40 focus:outline-none focus:ring-2 focus:ring-[#1C2A3A]/10 focus:bg-white/80 transition-all font-sans shadow-lg shadow-[#1C2A3A]/5 hover:shadow-xl hover:shadow-[#1C2A3A]/10">
        <svg class="absolute left-5 top-5 w-6 h-6 text-[#1C2A3A]/50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
        </svg>
      </div>
    </div>



    <!-- Trending Carousel -->
    <div class="w-full relative z-10">
      <div class="swiper mySwiper mb-20 !max-w-full !px-4 md:!px-10">
        <div class="swiper-wrapper">
          <% for(let i=0; i < featuredEvents.length; i++) { %>
          <a href="/view-event" class="swiper-slide group relative cursor-pointer block rounded-2xl overflow-hidden shadow-2xl">
            <img src="<%= featuredEvents[i].galleryImages[0] %>" class="w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110" alt="Event">
            <div class="absolute inset-0 bg-gradient-to-t from-[#1C2A3A] via-[#1C2A3A]/40 to-transparent flex flex-col justify-end p-8 md:p-10 opacity-90 group-hover:opacity-100 transition-opacity">
              <div class="transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500">
                <span class="inline-block px-3 py-1 mb-3 bg-white/20 backdrop-blur-md rounded-full text-[10px] font-bold uppercase tracking-widest text-white border border-white/20">
                  Featured
                </span>
                <h3 class="text-3xl md:text-5xl font-heading text-white tracking-tighter mb-3 drop-shadow-lg leading-none">
                  <%= featuredEvents[i].title %>
                </h3>
                <p class="text-white/80 text-sm md:text-base font-sans tracking-wide flex items-center gap-2">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z">
                    </path>
                  </svg>
                  <%= formatDate(featuredEvents[i].startDate).date %>
                </p>
              </div>
            </div>
          </a>
          <% } %>

          <!-- Duplicate for seamless loop -->
          <% for(let i=0; i < featuredEvents.length; i++) { %>
          <a href="/view-event" class="swiper-slide group relative cursor-pointer block rounded-2xl overflow-hidden shadow-2xl">
            <img src="<%= featuredEvents[i].galleryImages[0] %>" class="w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110" alt="Event">
            <div class="absolute inset-0 bg-gradient-to-t from-[#1C2A3A] via-[#1C2A3A]/40 to-transparent flex flex-col justify-end p-8 md:p-10 opacity-90 group-hover:opacity-100 transition-opacity">
              <div class="transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500">
                <span class="inline-block px-3 py-1 mb-3 bg-white/20 backdrop-blur-md rounded-full text-[10px] font-bold uppercase tracking-widest text-white border border-white/20">
                  Featured
                </span>
                <h3 class="text-3xl md:text-5xl font-heading text-white tracking-tighter mb-3 drop-shadow-lg leading-none">
                  <%= featuredEvents[i].title %>
                </h3>
                <p class="text-white/80 text-sm md:text-base font-sans tracking-wide flex items-center gap-2">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z">
                    </path>
                  </svg>
                  <%= formatDate(featuredEvents[i].startDate).date %>
                </p>
              </div>
            </div>
          </a>
          <% } %>
        </div>
        <div class="swiper-pagination !bottom-0"></div>
      </div>
    </div>
  </header>

  <!-- Explore Categories -->
  <section class="max-w-full w-full mb-32 relative z-10 overflow-hidden">
    <div class="flex items-center justify-between px-6 max-w-[90rem] mx-auto mb-16">
      <div>
        <h2 class="text-4xl md:text-5xl font-heading text-[#1C2A3A] tracking-tighter mb-2">Explore by
          category</h2>
        <p class="text-[#1C2A3A]/60 text-lg font-sans">Discover tailored experiences across every genre
        </p>
      </div>
      <div class="hidden md:block h-px bg-[#1C2A3A]/10 w-32"></div>
    </div>

    <div class="marquee-container no-scrollbar">
      <div class="marquee-content" id="row1">
        <% for(let i=0; i < allCategories.length; i++) { %>
        <a href="/category/<%= allCategories[i]._id %>" class="category-pill">
          <span class="category-thumb">
            <%= allCategories[i].iconUrl %>
          </span>
          <span>
            <%= allCategories[i].name %>
          </span>
        </a>
        <% } %>
      </div>

      <div class="marquee-content-reverse" id="row2">
        <% for(let i=allCategories.length - 1; i>= 0; i--) { %>
        <a href="/category/<%= allCategories[i]._id %>" class="category-pill">
          <span class="category-thumb">
            <%= allCategories[i].iconUrl %>
          </span>
          <span>
            <%= allCategories[i].name %>
          </span>
        </a>
        <% } %>
      </div>
    </div>
  </section>

  <main class="max-w-7xl mx-auto px-6 space-y-24 pb-24">

    <!-- All Events -->
    <section class="max-w-[90rem] mx-auto px-6 mb-32">
      <div class="flex justify-between items-end mb-12">
        <div>
          <h2 class="text-4xl md:text-5xl font-heading text-[#1C2A3A] tracking-tighter mb-2">Upcoming
            events</h2>
          <p class="text-[#1C2A3A]/60 text-lg font-sans">Curated experiences just for you</p>
        </div>
        <div class="flex space-x-3">
          <button class="events-prev w-12 h-12 rounded-full border border-[#1C2A3A]/10 flex items-center justify-center bg-white hover:bg-[#1C2A3A] hover:text-white transition-all shadow-sm">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path d="M15 19l-7-7 7-7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
          <button class="events-next w-12 h-12 rounded-full border border-[#1C2A3A]/10 flex items-center justify-center bg-white hover:bg-[#1C2A3A] hover:text-white transition-all shadow-sm">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path d="M9 5l7 7-7 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      </div>

      <div class="swiper eventsSwiper !overflow-visible">
        <div class="swiper-wrapper">
          <% for(let i=0; i < allEvents.length; i++) { %>
          <a href="/events/<%= allEvents[i]._id %>" class="swiper-slide bg-white rounded-2xl overflow-hidden shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-[#1C2A3A]/5 transition-all duration-300 group block h-full flex flex-col">
            <div class="h-[240px] relative overflow-hidden">
              <img src="<%= allEvents[i].galleryImages[0] %>" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105" alt="Event">
              <div class="absolute top-4 left-4">
                <span class="px-3 py-1 bg-white/90 backdrop-blur-md rounded-full text-xs font-bold uppercase tracking-wider text-[#1C2A3A] shadow-sm">
                  <%= allEvents[i].categoryId.name %>
                </span>
              </div>
              <div class="absolute bottom-4 right-4">
                <% const minPrice=Math.min(...allEvents[i].ticketTypes.map(t=> t.price)) %>
                <span class="px-4 py-2 bg-[#1C2A3A] text-white rounded-full text-sm font-bold shadow-lg">
                  <% if(minPrice && minPrice> 0) { %>
                  $<%= minPrice %>
                  <% } else { %>
                  Free
                  <% } %>
                </span>
              </div>
            </div>
            <div class="p-6 flex-1 flex flex-col">
              <div class="mb-4">
                <p class="text-[#5C7C8A] text-xs font-bold uppercase tracking-widest mb-2">
                  <%= new Date(allEvents[i].startDate).toLocaleDateString('en-US', {
                                                    month: 'short' , day: 'numeric' , year: 'numeric' }) %>
                </p>
                <h3 class="text-xl font-heading text-[#1C2A3A] leading-tight group-hover:text-[#5C7C8A] transition-colors line-clamp-2">
                  <%= allEvents[i].title %>
                </h3>
              </div>
              <p class="text-[#1C2A3A]/60 text-sm leading-relaxed mb-6 font-sans line-clamp-2">
                <%= allEvents[i].description %>
              </p>
              <div class="mt-auto pt-4 border-t border-[#1C2A3A]/5 flex items-center text-[#1C2A3A] text-sm font-medium">
                <span>Get Tickets</span>
                <svg class="w-4 h-4 ml-2 transform group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                </svg>
              </div>
            </div>
          </a>
          <% } %>
        </div>
      </div>
    </section>

    <!-- All Venues -->
    <section class="max-w-[90rem] mx-auto px-6 mb-32">
      <div class="flex justify-between items-end mb-12">
        <div>
          <h2 class="text-4xl md:text-5xl font-heading text-[#1C2A3A] tracking-tighter mb-2">Premier
            Venues</h2>
          <p class="text-[#1C2A3A]/60 text-lg font-sans">Find the perfect space for your next event
          </p>
        </div>
        <a href="/venues" class="px-6 py-3 bg-white border border-[#1C2A3A]/10 rounded-full text-sm font-bold text-[#1C2A3A] flex items-center space-x-2 hover:bg-[#1C2A3A] hover:text-white transition-all shadow-sm">
          <span>View All Venues</span>
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
          </svg>
        </a>
      </div>

      <div class="swiper venuesSwiper !overflow-visible">
        <div class="swiper-wrapper">
          <% for(let i=0; i < allVenues.length; i++) { %>
          <a href="/venue/<%= allVenues[i]._id %>" class="swiper-slide bg-white rounded-2xl overflow-hidden shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-[#1C2A3A]/5 transition-all duration-300 group block h-full flex flex-col">
            <div class="h-[240px] relative overflow-hidden">
              <img src="<%= allVenues[i].image_url[0] %>" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105" alt="<%= allVenues[i].name %>">
              <div class="absolute inset-0 bg-gradient-to-t from-[#1C2A3A]/60 to-transparent opacity-60 group-hover:opacity-40 transition-opacity">
              </div>
              <div class="absolute bottom-4 left-4 right-4 text-white">
                <h3 class="text-2xl font-heading leading-tight mb-1 drop-shadow-md">
                  <%= allVenues[i].name %>
                </h3>
                <p class="text-white/90 text-sm font-medium flex items-center">
                  <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path>
                  </svg>
                  <%= allVenues[i].address || 'Location' %>
                </p>
              </div>
            </div>
            <div class="p-5 flex gap-2">
              <span class="px-3 py-1 bg-[#F9F7F5] border border-[#1C2A3A]/10 rounded-lg text-xs font-bold text-[#1C2A3A] uppercase tracking-wider">
                <%= allVenues[i].type %>
              </span>
              <span class="px-3 py-1 bg-[#F9F7F5] border border-[#1C2A3A]/10 rounded-lg text-xs font-bold text-[#1C2A3A] uppercase tracking-wider">
                <%= allVenues[i].capacity %> Cap
              </span>
            </div>
          </a>
          <% } %>
        </div>
      </div>

      <!-- Venue navigation buttons -->
      <div class="flex justify-center space-x-3 mt-12">
        <button class="venues-prev w-12 h-12 rounded-full border border-[#1C2A3A]/10 flex items-center justify-center bg-white hover:bg-[#1C2A3A] hover:text-white transition-all shadow-sm">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path d="M15 19l-7-7 7-7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
        </button>
        <button class="venues-next w-12 h-12 rounded-full border border-[#1C2A3A]/10 flex items-center justify-center bg-white hover:bg-[#1C2A3A] hover:text-white transition-all shadow-sm">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path d="M9 5l7 7-7 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
        </button>
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer class="border-t border-white/10 py-24 px-6 bg-[#1C2A3A]">
    <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center space-y-8 md:space-y-0 text-sm text-white/60">
      <div class="flex items-center space-x-8">
        <span class="text-white font-medium">evently</span>
        <div class="flex space-x-6">
          <a href="#" class="hover:text-white transition-colors">Terms</a>
          <a href="#" class="hover:text-white transition-colors">Privacy</a>
          <a href="#" class="hover:text-white transition-colors">Contact</a>
        </div>
      </div>
      <div>
        <p>&copy; 2026 Evently Inc. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Initialize Swipers -->
  <script>
    // Featured Events Swiper
    var swiper = new Swiper(".mySwiper", {
      effect: "coverflow",
      grabCursor: true,
      centeredSlides: true,
      slidesPerView: "auto",
      spaceBetween: 50,
      loop: true,
      autoplay: {
        delay: 2500,
        disableOnInteraction: false,
      },
      coverflowEffect: {
        rotate: 0,
        stretch: 0,
        depth: 100,
        modifier: 1,
        slideShadows: true,
      },
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
    });

    // Marquee setup
    function setupMarquee(id) {
      const el = document.getElementById(id);
      if (el) {
        const content = el.innerHTML;
        el.innerHTML = content + content;
      }
    }

    window.addEventListener('load', () => {
      setupMarquee('row1');
      setupMarquee('row2');
    });

    // All Events Swiper
    var eventsSwiper = new Swiper(".eventsSwiper", {
      slidesPerView: 1.15,
      spaceBetween: 30,
      grabCursor: true,
      navigation: {
        nextEl: ".events-next",
        prevEl: ".events-prev",
      },
      breakpoints: {
        768: {
          slidesPerView: 2,
        },
        1024: {
          slidesPerView: 3,
        },
      },
    });

    // All Venues Swiper
    var venuesSwiper = new Swiper(".venuesSwiper", {
      slidesPerView: 1.15,
      spaceBetween: 20,
      grabCursor: true,
      navigation: {
        nextEl: ".venues-next",
        prevEl: ".venues-prev",
      },
      breakpoints: {
        640: {
          slidesPerView: 1.5,
        },
        768: {
          slidesPerView: 2,
        },
        1024: {
          slidesPerView: 3,
        },
      },
    });
  </script>
</body>

</html>